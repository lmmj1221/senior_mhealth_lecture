# ğŸ¥ Senior MHealth - í´ë¼ìš°ë“œ ê¸°ë°˜ ë°±ì—”ë“œ ê°œë°œ êµìœ¡ í”„ë¡œì íŠ¸

> **Google Cloud Platformê³¼ Firebaseë¥¼ í™œìš©í•œ ì‹¤ì „ ë°±ì—”ë“œ ê°œë°œ í•™ìŠµ í”„ë¡œì íŠ¸**

## ğŸ“š í”„ë¡œì íŠ¸ ê°œìš”

Senior MHealthëŠ” ì‹œë‹ˆì–´ë¥¼ ìœ„í•œ í—¬ìŠ¤ì¼€ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ, ëŒ€í•™ ë°±ì—”ë“œ ê°œë°œ êµìœ¡ì„ ìœ„í•´ ì„¤ê³„ëœ ì‹¤ìŠµ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. í•™ìƒë“¤ì€ 8ì£¼ì— ê±¸ì³ ì‹¤ì œ ì‘ë™í•˜ëŠ” í´ë¼ìš°ë“œ ê¸°ë°˜ ë°±ì—”ë“œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ë©°, í˜„ì—…ì—ì„œ ì‚¬ìš©ë˜ëŠ” ìµœì‹  ê¸°ìˆ ìŠ¤íƒì„ ê²½í—˜í•©ë‹ˆë‹¤.

### ğŸ¯ í•™ìŠµ ëª©í‘œ

- **í´ë¼ìš°ë“œ í”Œë«í¼**: Google Cloud Platform (GCP) ì‹¤ìŠµ
- **ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜**: Cloud Functions, Cloud Run í™œìš©
- **AI/ML í†µí•©**: Vertex AI (Gemini) API í™œìš©
- **NoSQL ë°ì´í„°ë² ì´ìŠ¤**: Firestore ì„¤ê³„ ë° êµ¬í˜„
- **ì¸ì¦/ë³´ì•ˆ**: Firebase Authentication & RBAC
- **ì‹¤ì‹œê°„ í†µì‹ **: WebSocket, FCM í‘¸ì‹œ ì•Œë¦¼
- **í”„ë¡œë•ì…˜ ë°°í¬**: ì„±ëŠ¥ ìµœì í™”, ëª¨ë‹ˆí„°ë§, CI/CD

### ğŸ“¦ ì œê³µë˜ëŠ” ê²ƒ
- âœ… **AI ì„œë¹„ìŠ¤**: ì™„ì„±ëœ ìŒì„± ë¶„ì„ ë° ê±´ê°• ì˜ˆì¸¡ ì‹œìŠ¤í…œ
- âœ… **Web ì•±**: Next.js ê¸°ë°˜ ê´€ë¦¬ì/ë³´í˜¸ììš© ëŒ€ì‹œë³´ë“œ
- âœ… **Mobile ì•±**: Flutter ê¸°ë°˜ ì‹œë‹ˆì–´ìš© ëª¨ë°”ì¼ ì•±
- âœ… **í•™ìŠµ ìë£Œ**: ê° ì£¼ì°¨ë³„ ì´ë¡  ë° ì‹¤ìŠµ ê°€ì´ë“œ
- âœ… **ì¸í”„ë¼ ì½”ë“œ**: Terraform IaC í…œí”Œë¦¿

### ğŸ”¨ ì—¬ëŸ¬ë¶„ì´ êµ¬í˜„í•  ê²ƒ
- **Backend API**: Firebase Functions ê¸°ë°˜ RESTful API
- **ë°ì´í„°ë² ì´ìŠ¤**: Firestore ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° CRUD êµ¬í˜„
- **ì¸ì¦/ë³´ì•ˆ**: Firebase Auth ë° ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´
- **ì‹¤ì‹œê°„ ê¸°ëŠ¥**: FCM í‘¸ì‹œ ì•Œë¦¼ ë° ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
- **ìµœì í™”**: ìºì‹±, Rate Limiting, ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

## âš ï¸ ì¤‘ìš” ì‚¬í•­

**ì´ í”„ë¡œì íŠ¸ëŠ” ê°œì¸ë³„ Firebase í”„ë¡œì íŠ¸ IDë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤!**
- ëª¨ë“  í•™ìƒì€ ìì‹ ë§Œì˜ Firebase/GCP í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤
- í•˜ë“œì½”ë”©ëœ í”„ë¡œì íŠ¸ IDê°€ ì—†ìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ ìì‹ ì˜ IDë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤
- í™˜ê²½ ë³€ìˆ˜ íŒŒì¼(.env)ê³¼ ì„œë¹„ìŠ¤ ê³„ì • í‚¤ëŠ” ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”

## ğŸ”„ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë¡œ ë³µì œí•˜ê¸°

ì´ í”„ë¡œì íŠ¸ëŠ” **ë²”ìš© í…œí”Œë¦¿**ìœ¼ë¡œ ì„¤ê³„ë˜ì–´ ìˆì–´, ëˆ„êµ¬ë‚˜ ìì‹ ì˜ GCP/Firebase í”„ë¡œì íŠ¸ë¡œ ë³µì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë¹ ë¥¸ ì‹œì‘ (3ë‹¨ê³„)

#### 1ï¸âƒ£ ì €ì¥ì†Œ ë³µì œ
```bash
git clone https://github.com/your-repo/Senior_MHealth.git
cd Senior_MHealth
```

#### 2ï¸âƒ£ ì„¤ì • ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
```bash
# setup-project.shê°€ ìë™ìœ¼ë¡œ:
# - í”„ë¡œì íŠ¸ ID ì…ë ¥ ë°›ê¸°
# - GCP API í™œì„±í™”
# - .env íŒŒì¼ ìƒì„±
# - Firebase í”„ë¡œì íŠ¸ ì—°ê²°
./setup-project.sh
```

**ë˜ëŠ” ìˆ˜ë™ ì„¤ì •:**
```bash
# 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ì„œ YOUR_ ê°’ë“¤ì„ ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´

# 2. í”„ë¡œì íŠ¸ ì„¤ì • íŒŒì¼ ìƒì„±
cp project.config.template.json project.config.json
# project.config.jsonì„ ì—´ì–´ì„œ YOUR_ ê°’ë“¤ì„ ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´

# 3. Firebase í”„ë¡œì íŠ¸ ì—°ê²°
firebase use --add
```

#### 3ï¸âƒ£ ì˜ì¡´ì„± ì„¤ì¹˜ ë° ì‹¤í–‰
```bash
# ë°±ì—”ë“œ
cd backend/functions
npm install

# í”„ë¡ íŠ¸ì—”ë“œ (ì„ íƒ)
cd ../../frontend/web
npm install
npm run dev
```

### ğŸ“ í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

í”„ë¡œì íŠ¸ê°€ ì‘ë™í•˜ë ¤ë©´ ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤:

#### ğŸ”‘ í•„ìˆ˜ ë³€ìˆ˜

| í™˜ê²½ ë³€ìˆ˜ | ì„¤ëª… | íšë“ ë°©ë²• |
|-----------|------|-----------|
| `GCP_PROJECT_ID` | GCP í”„ë¡œì íŠ¸ ID | [GCP Console](https://console.cloud.google.com) > í”„ë¡œì íŠ¸ ì„ íƒ |
| `GCP_PROJECT_NUMBER` | GCP í”„ë¡œì íŠ¸ ë²ˆí˜¸ | GCP Console > í”„ë¡œì íŠ¸ ì„¤ì • |
| `GCP_REGION` | ë°°í¬ ë¦¬ì „ | ì˜ˆ: `asia-northeast3` (ì„œìš¸), `us-central1` |
| `FIREBASE_PROJECT_ID` | Firebase í”„ë¡œì íŠ¸ ID | ë³´í†µ GCP_PROJECT_IDì™€ ë™ì¼ |
| `FIREBASE_API_KEY` | Firebase Web API í‚¤ | [Firebase Console](https://console.firebase.google.com) > í”„ë¡œì íŠ¸ ì„¤ì • > ì¼ë°˜ |
| `FIREBASE_AUTH_DOMAIN` | Firebase Auth ë„ë©”ì¸ | Firebase Console > í”„ë¡œì íŠ¸ ì„¤ì • (ìë™ ìƒì„±) |
| `FIREBASE_STORAGE_BUCKET` | Storage ë²„í‚· ì´ë¦„ | Firebase Console > Storage |
| `FIREBASE_MESSAGING_SENDER_ID` | FCM Sender ID | Firebase Console > í”„ë¡œì íŠ¸ ì„¤ì • > Cloud Messaging |
| `FIREBASE_APP_ID` | Firebase ì•± ID | Firebase Console > í”„ë¡œì íŠ¸ ì„¤ì • > ì•± ì¶”ê°€ |

#### ğŸ” API í‚¤ (ì„ íƒ)

| í™˜ê²½ ë³€ìˆ˜ | ì„¤ëª… | íšë“ ë°©ë²• |
|-----------|------|-----------|
| `GEMINI_API_KEY` | Google AI Gemini API í‚¤ | [AI Studio](https://makersuite.google.com/app/apikey) |
| `OPENAI_API_KEY` | OpenAI API í‚¤ (ì„ íƒ) | [OpenAI Platform](https://platform.openai.com/api-keys) |
| `ANTHROPIC_API_KEY` | Anthropic Claude API í‚¤ (ì„ íƒ) | [Anthropic Console](https://console.anthropic.com) |

#### âš™ï¸ ì„œë¹„ìŠ¤ URL (ë°°í¬ í›„ ì„¤ì •)

| í™˜ê²½ ë³€ìˆ˜ | ì„¤ëª… | íšë“ ë°©ë²• |
|-----------|------|-----------|
| `CLOUD_RUN_AI_URL` | AI ì„œë¹„ìŠ¤ URL | ë°°í¬ í›„ Cloud Run Consoleì—ì„œ í™•ì¸ |
| `CLOUD_RUN_API_URL` | API ì„œë¹„ìŠ¤ URL | ë°°í¬ í›„ Cloud Run Consoleì—ì„œ í™•ì¸ |
| `WEB_APP_URL` | ì›¹ ì•± URL | Vercel ë°°í¬ í›„ í™•ì¸ |

### ğŸ“‚ ì„¤ì • íŒŒì¼ ìœ„ì¹˜

í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ ìˆœì„œë¡œ ì„¤ì •ì„ ë¡œë“œí•©ë‹ˆë‹¤:

1. **í™˜ê²½ ë³€ìˆ˜** (ìµœìš°ì„ )
   - `.env` (ë¡œì»¬ ê°œë°œ)
   - Cloud Run/Functions í™˜ê²½ ë³€ìˆ˜ (í”„ë¡œë•ì…˜)

2. **ì„¤ì • íŒŒì¼** (ì°¨ì„ ì±…)
   - `project.config.json` (ê°œì¸ë³„, gitignoreë¨)
   - `project.config.template.json` (í…œí”Œë¦¿, Git ì¶”ì ë¨)

3. **ê¸°ë³¸ê°’** (í”Œë ˆì´ìŠ¤í™€ë”)
   - ì½”ë“œ ë‚´ `DEFAULT_CONFIG` (ê°œë°œ ì¤‘ ê²½ê³  ì¶œë ¥)

### âš ï¸ ì£¼ì˜ì‚¬í•­

**ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ì•„ì•¼ í•  íŒŒì¼:**
```
.env                          # í™˜ê²½ ë³€ìˆ˜
project.config.json           # í”„ë¡œì íŠ¸ ì„¤ì •
**/serviceAccountKey.json     # ì„œë¹„ìŠ¤ ê³„ì • í‚¤
**/service-account-key.json   # ì„œë¹„ìŠ¤ ê³„ì • í‚¤
auth_users.json               # ì‚¬ìš©ì ì¸ì¦ ì •ë³´
```

ì´ íŒŒì¼ë“¤ì€ ì´ë¯¸ `.gitignore`ì— í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### âœ… ì„¤ì • ê²€ì¦

ì„¤ì •ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•˜ë ¤ë©´:

```bash
# ë°±ì—”ë“œ ì„¤ì • ê²€ì¦
python backend/config_loader.py

# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„ ì‹¤í–‰ (í™˜ê²½ ë³€ìˆ˜ í™•ì¸)
cd frontend/web
npm run dev
# ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ê²½ê³  ë©”ì‹œì§€ í™•ì¸
```

**í”„ë¡œë•ì…˜ ë°°í¬ ì‹œ:** í”Œë ˆì´ìŠ¤í™€ë” ê°’ì´ ìˆìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ ë°°í¬ê°€ ì¤‘ë‹¨ë©ë‹ˆë‹¤.

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Senior_MHealth/
â”œâ”€â”€ backend/               # ë°±ì—”ë“œ ì„œë¹„ìŠ¤ (í•™ìƒ êµ¬í˜„ ì˜ì—­)
â”‚   â”œâ”€â”€ functions/         # Cloud Functions (ì„œë²„ë¦¬ìŠ¤)
â”‚   â”‚   â”œâ”€â”€ index.js       # ë©”ì¸ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ src/           # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/    # API ë¼ìš°íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ services/  # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â””â”€â”€ middleware/ # ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â””â”€â”€ .env.template  # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ api-service/       # Cloud Run API ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ ai-service-simple/ # Vertex AI ì—°ë™ ì„œë¹„ìŠ¤
â”‚
â”œâ”€â”€ frontend/              # í”„ë¡ íŠ¸ì—”ë“œ (ì œê³µ ì½”ë“œ)
â”‚   â”œâ”€â”€ web/              # Next.js ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â””â”€â”€ mobile/           # Flutter ëª¨ë°”ì¼ ì•±
â”‚
â”œâ”€â”€ infrastructure/        # ì¸í”„ë¼ ì„¤ì •
â”‚   â””â”€â”€ terraform/        # IaC (Infrastructure as Code)
â”‚
â”œâ”€â”€ docs/                 # í•™ìŠµ ìë£Œ
â”‚   â”œâ”€â”€ week3_theory.md   # ì´ë¡  ë¬¸ì„œ
â”‚   â”œâ”€â”€ week3_practice.md # ì‹¤ìŠµ ê°€ì´ë“œ
â”‚   â””â”€â”€ ...              # ì£¼ì°¨ë³„ ìë£Œ
â”‚
â””â”€â”€ setup/                # ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
    â””â”€â”€ scripts/         # ì£¼ì°¨ë³„ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
</```

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 18.0.0 ì´ìƒ
- Python 3.9 ì´ìƒ (AI ì„œë¹„ìŠ¤ìš©)
- Google Cloud SDK
- Firebase CLI
- Git
- (ì„ íƒ) Docker Desktop

### ì´ˆê¸° ì„¤ì •

#### 1. GCP í”„ë¡œì íŠ¸ ìƒì„±

```bash
# GCP Consoleì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
# https://console.cloud.google.com
# í”„ë¡œì íŠ¸ ID: senior-mhealth-[í•™ë²ˆ]

# í•„ìˆ˜ API í™œì„±í™”
gcloud services enable \
  cloudfunctions.googleapis.com \
  firestore.googleapis.com \
  cloudbuild.googleapis.com \
  aiplatform.googleapis.com
```

#### 2. Firebase í”„ë¡œì íŠ¸ ì—°ê²°

```bash
# Firebase CLI ì„¤ì¹˜
npm install -g firebase-tools

# Firebase ë¡œê·¸ì¸
firebase login

# í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
firebase init

# ì„ íƒ ì˜µì…˜:
# - Firestore
# - Functions
# - Hosting (ì„ íƒ)
# - Storage (ì„ íƒ)
```

#### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# Backend í™˜ê²½ ë³€ìˆ˜
cd backend/functions
cp .env.template .env

# .env íŒŒì¼ í¸ì§‘í•˜ì—¬ ë³¸ì¸ì˜ í”„ë¡œì íŠ¸ ì •ë³´ ì…ë ¥
# GCP_PROJECT_ID=your-project-id
# FIREBASE_PROJECT_ID=your-project-id
```

#### 4. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# Backend
cd backend/functions
npm install

# Web (ì„ íƒì‚¬í•­ - í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ìš©)
cd ../../frontend/web
npm install

# Mobile (ì„ íƒì‚¬í•­ - ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸ìš©)
cd ../mobile
flutter pub get
```

## ğŸ“– í•™ìŠµ ì»¤ë¦¬í˜ëŸ¼ (8ì£¼ ê³¼ì •)

### Week 3: Cloud Platform ê¸°ì´ˆ
- GCP ê³„ì • ìƒì„± ë° í”„ë¡œì íŠ¸ ì„¤ì •
- Firebase í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- ê°œë°œ í™˜ê²½ êµ¬ì„±
- **ì‹¤ìŠµ**: `setup/scripts/week3-setup.sh` ì‹¤í–‰
- **ë¬¸ì„œ**: `docs/week3_theory.md`, `docs/week3_practice.md`

### Week 4: Cloud Functions & AI í†µí•©
- Express.js ê¸°ë°˜ API êµ¬ì¡°
- Vertex AI (Gemini) API í†µí•©
- ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ì‘ì„± ë° ë°°í¬
- **ì‹¤ìŠµ**: `setup/scripts/week4-setup.sh` ì‹¤í–‰
- **êµ¬í˜„**: ê¸°ë³¸ API ì—”ë“œí¬ì¸íŠ¸

### Week 5: Firestore ë°ì´í„°ë² ì´ìŠ¤
- NoSQL ë°ì´í„° ëª¨ë¸ë§
- CRUD ì‘ì—… êµ¬í˜„
- ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ ë° íŠ¸ë¦¬ê±°
- ë³´ì•ˆ ê·œì¹™ ì„¤ì •
- **ì‹¤ìŠµ**: `setup/scripts/week5-setup.sh` ì‹¤í–‰
- **êµ¬í˜„**: ë°ì´í„° ëª¨ë¸ ë° API

### Week 6: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
- Next.js ì•± ì´í•´
- Vercel ë°°í¬ í”„ë¡œì„¸ìŠ¤
- í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
- CORS ë° API ì—°ë™
- **ì‹¤ìŠµ**: `setup/scripts/week6-setup.sh` ì‹¤í–‰
- **ë°°í¬**: Vercel í”Œë«í¼

### Week 7: ëª¨ë°”ì¼ ì•± í†µí•©
- Flutter ì•± ì„¤ì •
- Firebase SDK í†µí•©
- FCM í‘¸ì‹œ ì•Œë¦¼ êµ¬í˜„
- ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
- **ì‹¤ìŠµ**: `setup/scripts/week7-setup.sh` ì‹¤í–‰
- **êµ¬í˜„**: í‘¸ì‹œ ì•Œë¦¼ ë° ì‹¤ì‹œê°„ ê¸°ëŠ¥

### Week 8: í”„ë¡œë•ì…˜ ìµœì í™”
- ì„±ëŠ¥ ìµœì í™” (ìºì‹±, ì••ì¶•)
- ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì„¤ì •
- CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- ë³´ì•ˆ ê°•í™” ë° í…ŒìŠ¤íŠ¸
- **ì‹¤ìŠµ**: `setup/scripts/week8-setup.sh` ì‹¤í–‰
- **ë°°í¬**: í”„ë¡œë•ì…˜ í™˜ê²½

## ğŸ’» ê°œë°œ ê°€ì´ë“œ

### Backend ê°œë°œ (í•™ìƒ êµ¬í˜„ ì˜ì—­)

#### Cloud Functions ê¸°ë³¸ êµ¬ì¡°

```javascript
// backend/functions/index.js
const { onRequest } = require('firebase-functions/v2/https');
const express = require('express');
const cors = require('cors');

const app = express();
app.use(cors());
app.use(express.json());

// Health Check
app.get('/health', (req, res) => {
  res.json({
    status: 'healthy',
    timestamp: new Date().toISOString()
  });
});

// TODO: API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
app.post('/api/health-data', async (req, res) => {
  // ê±´ê°• ë°ì´í„° ì €ì¥ ë¡œì§
});

exports.api = onRequest(app);
```

#### Vertex AI ì—°ë™ ì˜ˆì œ

```javascript
// backend/functions/src/services/ai-service.js
const { VertexAI } = require('@google-cloud/vertexai');

class AIService {
  constructor() {
    this.vertexAI = new VertexAI({
      project: process.env.GCP_PROJECT_ID,
      location: 'asia-northeast3'
    });
    this.model = 'gemini-1.5-flash';
  }

  async analyzeHealthData(data) {
    // AI ë¶„ì„ ë¡œì§ êµ¬í˜„
    const generativeModel = this.vertexAI.preview.getGenerativeModel({
      model: this.model,
    });

    // ë¶„ì„ ì‹¤í–‰ ë° ê²°ê³¼ ë°˜í™˜
  }
}

module.exports = new AIService();
```

### ë°°í¬

#### ê°œë°œ í™˜ê²½ (ë¡œì»¬ í…ŒìŠ¤íŠ¸)

```bash
# Firebase ì—ë®¬ë ˆì´í„° ì‹¤í–‰
cd backend/functions
firebase emulators:start

# ë˜ëŠ” ê°œë³„ ì„œë¹„ìŠ¤ë§Œ
firebase emulators:start --only functions,firestore
```

#### í”„ë¡œë•ì…˜ ë°°í¬

```bash
# Cloud Functions ë°°í¬
firebase deploy --only functions

# íŠ¹ì • í•¨ìˆ˜ë§Œ ë°°í¬
firebase deploy --only functions:api

# Cloud Run ë°°í¬ (ì„ íƒì‚¬í•­)
cd backend/api-service
gcloud run deploy api-service \
  --source . \
  --region asia-northeast3
```

## ğŸ“‹ êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í•„ìˆ˜ ê¸°ëŠ¥ (60%)
- [ ] Health Check ì—”ë“œí¬ì¸íŠ¸
- [ ] ì‚¬ìš©ì ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
- [ ] ì‹œë‹ˆì–´ ì •ë³´ CRUD API
- [ ] ê±´ê°• ë°ì´í„° CRUD API
- [ ] ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)
- [ ] Vertex AI ì—°ë™ (ê±´ê°• ë¶„ì„)
- [ ] FCM í‘¸ì‹œ ì•Œë¦¼
- [ ] ì¼ì¼/ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„±
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…

### ê³ ê¸‰ ê¸°ëŠ¥ (40%)
- [ ] ìºì‹± êµ¬í˜„ (Redis/Memory)
- [ ] Rate Limiting
- [ ] ë°°ì¹˜ ì²˜ë¦¬ ìµœì í™”
- [ ] ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- [ ] GraphQL API (ì„ íƒ)
- [ ] ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ (ì„ íƒ)

## ğŸ§ª í…ŒìŠ¤íŠ¸

### API í…ŒìŠ¤íŠ¸ ì˜ˆì œ

```bash
# Health Check
curl http://localhost:5001/[project-id]/us-central1/api/health

# ê±´ê°• ë°ì´í„° ìƒì„±
curl -X POST http://localhost:5001/[project-id]/us-central1/api/health-data \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [token]" \
  -d '{
    "seniorId": "senior001",
    "type": "heartRate",
    "value": 75,
    "unit": "bpm",
    "timestamp": "2024-09-20T10:00:00Z"
  }'

# AI ë¶„ì„ ìš”ì²­
curl -X POST http://localhost:5001/[project-id]/us-central1/api/analyze \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [token]" \
  -d '{
    "seniorId": "senior001",
    "dataType": "voice",
    "audioUrl": "gs://bucket/path/to/audio.wav"
  }'
```

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### í•„ìˆ˜ ë³´ì•ˆ ì„¤ì •
- **í™˜ê²½ ë³€ìˆ˜**: ì ˆëŒ€ í•˜ë“œì½”ë”© ê¸ˆì§€, .env íŒŒì¼ ì‚¬ìš©
- **API í‚¤**: Secret Manager ì‚¬ìš© ê¶Œì¥
- **ì„œë¹„ìŠ¤ ê³„ì •**: ìµœì†Œ ê¶Œí•œ ì›ì¹™ ì ìš©
- **CORS**: í—ˆìš©ëœ ì˜¤ë¦¬ì§„ë§Œ ì„¤ì •
- **Rate Limiting**: DDoS ê³µê²© ë°©ì–´
- **ì…ë ¥ ê²€ì¦**: ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ ê²€ì¦

### Firestore ë³´ì•ˆ ê·œì¹™ ì˜ˆì œ

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì½ê¸°/ì“°ê¸°
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }

    // ì‹œë‹ˆì–´ ë°ì´í„°ëŠ” ë³´í˜¸ìë„ ì ‘ê·¼ ê°€ëŠ¥
    match /seniors/{seniorId} {
      allow read: if request.auth != null &&
        (request.auth.uid == resource.data.userId ||
         request.auth.uid in resource.data.guardianIds);
    }
  }
}
```

## ğŸ“Š í‰ê°€ ê¸°ì¤€

### 1. ê¸°ëŠ¥ êµ¬í˜„ (40%)
- API ì—”ë“œí¬ì¸íŠ¸ ì™„ì„±ë„
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ì •í™•ì„±
- AI ì„œë¹„ìŠ¤ í†µí•©
- ì‹¤ì‹œê°„ ê¸°ëŠ¥ ì‘ë™

### 2. ì½”ë“œ í’ˆì§ˆ (30%)
- í´ë¦° ì½”ë“œ ì›ì¹™ ì¤€ìˆ˜
- ì—ëŸ¬ ì²˜ë¦¬ ì™„ì„±ë„
- ë¹„ë™ê¸° ì²˜ë¦¬ ì •í™•ì„±
- ì£¼ì„ ë° ë¬¸ì„œí™”

### 3. í´ë¼ìš°ë“œ í™œìš© (20%)
- ì„œë¹„ìŠ¤ ë°°í¬ ì„±ê³µ
- í™•ì¥ì„± ê³ ë ¤
- ë¹„ìš© ìµœì í™”
- ëª¨ë‹ˆí„°ë§ êµ¬í˜„

### 4. ë³´ì•ˆ (10%)
- ì¸ì¦/ì¸ê°€ êµ¬í˜„
- ë°ì´í„° ë³´í˜¸
- ë³´ì•ˆ best practices
- ì·¨ì•½ì  ë°©ì–´

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

#### 1. Firebase ê¶Œí•œ ì˜¤ë¥˜
```bash
# ì„œë¹„ìŠ¤ ê³„ì • ì¬ì¸ì¦
gcloud auth application-default login

# Firebase ì¬ë¡œê·¸ì¸
firebase login --reauth
```

#### 2. Vertex AI API ì˜¤ë¥˜
```bash
# API í™œì„±í™”
gcloud services enable aiplatform.googleapis.com

# ê¶Œí•œ ë¶€ì—¬
gcloud projects add-iam-policy-binding [PROJECT_ID] \
  --member="serviceAccount:[SERVICE_ACCOUNT]" \
  --role="roles/aiplatform.user"
```

#### 3. CORS ì˜¤ë¥˜
```javascript
// Express CORS ì„¤ì •
const cors = require('cors');
app.use(cors({
  origin: process.env.ALLOWED_ORIGINS?.split(',') || ['http://localhost:3000'],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
}));
```

#### 4. Firestore ì—°ê²° ì˜¤ë¥˜
```javascript
// ì˜¬ë°”ë¥¸ ì´ˆê¸°í™”
const admin = require('firebase-admin');

if (!admin.apps.length) {
  admin.initializeApp({
    projectId: process.env.FIREBASE_PROJECT_ID,
  });
}

const db = admin.firestore();
```

## ğŸ“š ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [Google Cloud Platform ë¬¸ì„œ](https://cloud.google.com/docs)
- [Firebase ë¬¸ì„œ](https://firebase.google.com/docs)
- [Vertex AI ë¬¸ì„œ](https://cloud.google.com/vertex-ai/docs)
- [Express.js ê°€ì´ë“œ](https://expressjs.com/)

### ì¶”ê°€ í•™ìŠµ ìë£Œ
- [Node.js Best Practices](https://github.com/goldbergyoni/nodebestpractices)
- [REST API ì„¤ê³„ ê°€ì´ë“œ](https://restfulapi.net/)
- [Cloud Architecture Framework](https://cloud.google.com/architecture/framework)
- [Firebase ì„±ëŠ¥ ìµœì í™”](https://firebase.google.com/docs/perf-mon)

## ğŸ’¡ ê°œë°œ íŒ

1. **ë‹¨ê³„ë³„ êµ¬í˜„**: TODOë¥¼ ìˆœì„œëŒ€ë¡œ êµ¬í˜„í•˜ê³  í…ŒìŠ¤íŠ¸
2. **ë²„ì „ ê´€ë¦¬**: Gitìœ¼ë¡œ ì§„í–‰ ìƒí™©ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬
3. **ë¡œê·¸ í™œìš©**: Cloud Loggingìœ¼ë¡œ ë””ë²„ê¹… ë° ëª¨ë‹ˆí„°ë§
4. **í…ŒìŠ¤íŠ¸ ì£¼ë„**: êµ¬í˜„ ì „ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
5. **ë¬¸ì„œí™”**: API ë¬¸ì„œì™€ ì½”ë“œ ì£¼ì„ ì¶©ì‹¤íˆ ì‘ì„±
6. **ë³´ì•ˆ ìš°ì„ **: ì²˜ìŒë¶€í„° ë³´ì•ˆì„ ê³ ë ¤í•œ ì„¤ê³„
7. **ì„±ëŠ¥ ì¸¡ì •**: ì´ˆê¸°ë¶€í„° ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘

## ğŸ¤ ì§€ì›

### í•™ìŠµ ì§€ì›
- **ë¬¸ì„œ**: `docs/` í´ë”ì˜ ì£¼ì°¨ë³„ í•™ìŠµ ìë£Œ
- **ì„¤ì • ìŠ¤í¬ë¦½íŠ¸**: `setup/scripts/` ì˜ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
- **ì˜ˆì œ ì½”ë“œ**: ê° ê¸°ëŠ¥ë³„ êµ¬í˜„ ì˜ˆì œ ì œê³µ

### ì»¤ë®¤ë‹ˆí‹°
- **ì´ìŠˆ íŠ¸ë˜ì»¤**: GitHub Issues í™œìš©
- **ë””ìŠ¤ì»¤ì…˜**: GitHub Discussions ë˜ëŠ” Slack
- **ì˜¤í”¼ìŠ¤ ì•„ì›Œ**: ë§¤ì£¼ í™”/ëª© ì˜¤í›„ 2-4ì‹œ
- **ìŠ¤í„°ë”” ê·¸ë£¹**: ììœ¨ ìŠ¤í„°ë”” ê·¸ë£¹ ìš´ì˜

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” êµìœ¡ ëª©ì ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì¶”ê°€ì ì¸ ë³´ì•ˆ ë° ìµœì í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.

---

**ğŸš€ í–‰ìš´ì„ ë¹•ë‹ˆë‹¤! ì‹¤ì œ ì‘ë™í•˜ëŠ” í´ë¼ìš°ë“œ ê¸°ë°˜ í—¬ìŠ¤ì¼€ì–´ ë°±ì—”ë“œë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!**

**ğŸ’ª ì—¬ëŸ¬ë¶„ì€ ì´ ê³¼ì •ì„ í†µí•´ í˜„ì—…ì—ì„œ ë°”ë¡œ í™œìš© ê°€ëŠ¥í•œ í´ë¼ìš°ë“œ ë°±ì—”ë“œ ê°œë°œ ì—­ëŸ‰ì„ ê°–ì¶”ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.**